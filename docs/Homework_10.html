<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Graham Montague" />

<meta name="date" content="2025-04-24" />

<title>Homework_10</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">My Website</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="Homeworks.html">Homeworks</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Homework_10</h1>
<h4 class="author">Graham Montague</h4>
<h4 class="date">2025-04-24</h4>

</div>


<pre class="r"><code># Option 2: Read directly from GitHub
# Load required libraries for each of the graphs (treemap, pie chart, 2d density, ridgeline)
library(tidyverse)</code></pre>
<pre><code>## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
## ✔ dplyr     1.1.4     ✔ readr     2.1.5
## ✔ forcats   1.0.0     ✔ stringr   1.5.1
## ✔ ggplot2   3.5.2     ✔ tibble    3.2.1
## ✔ lubridate 1.9.4     ✔ tidyr     1.3.1
## ✔ purrr     1.0.2     
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
<pre class="r"><code>library(ggridges)
library(treemap)
library(treemapify)
library(viridis)</code></pre>
<pre><code>## Loading required package: viridisLite</code></pre>
<pre class="r"><code>library(hrbrthemes)
library(ggrepel)
library(scales)</code></pre>
<pre><code>## 
## Attaching package: &#39;scales&#39;
## 
## The following object is masked from &#39;package:viridis&#39;:
## 
##     viridis_pal
## 
## The following object is masked from &#39;package:purrr&#39;:
## 
##     discard
## 
## The following object is masked from &#39;package:readr&#39;:
## 
##     col_factor</code></pre>
<pre class="r"><code># I am picking the pokemon dataset
pokemon_df &lt;- readr::read_csv(&#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-04-01/pokemon_df.csv&#39;)</code></pre>
<pre><code>## Rows: 949 Columns: 22
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (10): pokemon, type_1, type_2, color_1, color_2, color_f, egg_group_1, e...
## dbl (12): id, species_id, height, weight, base_experience, hp, attack, defen...
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre class="r"><code># I really only need the first 19 columns so I am selecting them
pokemon_data &lt;- pokemon_df %&gt;% 
  select(1:19)

# I want to clean the data to remove the NAs
pokemon_clean &lt;- pokemon_data %&gt;%
  mutate(across(where(is.character), ~na_if(., &quot;&quot;))) %&gt;%
  filter(!is.na(type_1), !is.na(hp), !is.na(attack), !is.na(defense))</code></pre>
<div id="ridgeline-plot" class="section level1">
<h1>1: RIDGELINE PLOT</h1>
<div id="visualizing-the-distribution-of-hp-across-different-types"
class="section level3">
<h3>Visualizing the distribution of HP across different types</h3>
<div
id="i-am-curious-if-certain-types-of-pokemon-have-higher-hit-points-that-others-and-the-ridgeline-plot-allows-me-to-visualize-this"
class="section level4">
<h4>I am curious if certain types of pokemon have higher hit points that
others and the ridgeline plot allows me to visualize this!</h4>
<pre class="r"><code>pokemon_ridgeline &lt;- ggplot(pokemon_clean,
  aes(x = hp, 
      y = type_1, 
      fill = type_1)) +
  # Code for creating the ridgeline plot
  geom_density_ridges(
    alpha = 0.7,
    scale = 0.9,
    rel_min_height = 0.01) +
  # Add jittered points
  geom_point(
    aes(y = as.numeric(factor(type_1)) - 0.15),
    alpha = 0.3,
    size = 1.5,
    shape = &quot;|&quot;) +
  scale_fill_viridis_d(option = &quot;plasma&quot;) + # could also do mako, rocket, turbo
  labs(
    title = &quot;Distribution of Hit Points Stats Across Pokemon Types&quot;,
    subtitle = &quot;Higher density = more Pokemon with that HP value&quot;,
    x = &quot;Hit Points (HP)&quot;,
    y = NULL,
    fill = &quot;Type&quot;) +
  theme_minimal(base_size = 14) +
  theme(
    legend.position = &quot;none&quot;,
    plot.title = element_text(face = &quot;bold&quot;),
    panel.grid.minor = element_blank())

print(pokemon_ridgeline)</code></pre>
<pre><code>## Picking joint bandwidth of 8.48</code></pre>
<p><img src="Homework_10_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<pre class="r"><code># Save the plot as a manuscript quality pdf
ggsave(&quot;pokemon_ridgeline.pdf&quot;, pokemon_ridgeline, width = 12, height = 8, dpi = 300)</code></pre>
<pre><code>## Picking joint bandwidth of 8.48</code></pre>
</div>
</div>
</div>
<div id="treemap" class="section level1">
<h1>2. Treemap</h1>
<div
id="i-wanted-to-look-at-the-different-types-of-pokemon-and-their-average-stats-for-defense-i-wanted-to-know-which-pokemon-type-had-the-best-hp-and-defense-stats."
class="section level3">
<h3>I wanted to look at the different types of pokemon and their average
stats for defense, I wanted to know which pokemon type had the best HP
and defense stats.</h3>
<pre class="r"><code>treemap_data &lt;- pokemon_clean %&gt;%
  group_by(type_1) %&gt;%
  summarize(
    count = n(),
    avg_hp = mean(hp, na.rm = TRUE),
    avg_attack = mean(attack, na.rm = TRUE),
    avg_defense = mean(defense, na.rm = TRUE),
    avg_speed = mean(speed, na.rm = TRUE),
    .groups = &quot;drop&quot;) %&gt;%
  arrange(desc(count))

# Create the tree map in ggplot!
treemap_pokemon &lt;- ggplot(
  treemap_data,
  aes(
    area = count,
    fill = avg_defense,
    # this allows me to add labels to each of the blocks in the tree map for easier interpretation
    label = paste0(type_1, &quot;\n&quot;, count, &quot; Pokemon\n&quot;, 
                   &quot;HP: &quot;, round(avg_hp, 1), 
                   &quot;\nDef: &quot;, round(avg_defense, 1)))) +
  geom_treemap() +
  geom_treemap_text(
    colour = &quot;white&quot;,
    place = &quot;centre&quot;,
    size = 11,
    grow = TRUE) +
  scale_fill_viridis_c(option = &quot;turbo&quot;) +
  labs(
    title = &quot;Pokemon Types Distribution&quot;,
    subtitle = &quot;Size = Number of Pokemon, Color = Average Defense Stat&quot;,
    fill = &quot;Avg Defense&quot;
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = &quot;bold&quot;, size = 16),
    legend.position = &quot;right&quot;
  )

# it looks like steel pokemon have the best defense- makes sense!N Normal pokemon have the least amount of defense. 
print(treemap_pokemon)</code></pre>
<p><img src="Homework_10_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<pre class="r"><code># Save the plot as a manuscript quality pdf
ggsave(&quot;treemap_pokemon.jpg&quot;, treemap_pokemon, width = 12, height = 10, dpi = 300)</code></pre>
</div>
</div>
<div id="d-density-plot" class="section level1">
<h1>3. 2-D DENSITY PLOT</h1>
<div
id="i-am-curious-which-pokemon-have-both-high-special-attack-and-high-speed-stat-so-i-can-choose-the-best-pokemon-in-my-upcmoing-battles"
class="section level3">
<h3>I am curious which pokemon have both high special attack and high
speed stat so I can choose the best pokemon in my upcmoing battles!</h3>
<pre class="r"><code># first we need outliers for labeling purposes
outliers &lt;- pokemon_clean %&gt;%
  filter(
    # Fast pokemon
    speed &gt; quantile(speed, 0.975, na.rm = TRUE) |
      # high special attack pokemon
      special_attack &gt; quantile(special_attack, 0.975, na.rm = TRUE) |
      # Balanced pokemon
      (speed &gt; quantile(speed, 0.9, na.rm = TRUE) &amp; 
         special_attack &gt; quantile(special_attack, 0.9, na.rm = TRUE))
  )

# Now we can create the density plot
density_pokemon &lt;- ggplot(
  pokemon_clean,
  aes(x = speed, y = special_attack)) +
  # Create the 2D density plot
  geom_density_2d_filled(alpha = 0.85, bins = 7) +
  # Add points with colors based on type
  geom_point(aes(color = type_1), size = 2, alpha = 0.6) +
  # Highlight notable outlier Pokemon
  geom_text_repel(
    data = outliers,
    aes(label = pokemon),
    size = 3,
    max.overlaps = 8,
    box.padding = 0.5,
    segment.color = &quot;gray30&quot;,
    segment.size = 0.3) +
  # Custom aesthetics
  scale_fill_viridis_d(option = &quot;mako&quot;, direction = -1) +
  scale_color_viridis_d(option = &quot;turbo&quot;) +
  # Use more descriptive labels
  labs(
    title = &quot;Pokemon Speed vs. Special Attack Relationship&quot;,
    x = &quot;Speed&quot;,
    y = &quot;Special Attack&quot;,
    fill = &quot;Density&quot;,
    color = &quot;Pokemon Type&quot;) +
  # I like the minimalistic theme for publicaitons
  theme_minimal(base_size = 14) +
  theme(
    plot.title = element_text(face = &quot;bold&quot;),
    legend.position = &quot;right&quot;,
    panel.grid.minor = element_blank(),
    panel.grid.major = element_line(color = &quot;gray90&quot;),
    legend.key.size = unit(0.8, &quot;cm&quot;)) +
  
  # Add quadrant labels
  annotate(
    &quot;label&quot;,
    x = 140,
    y = 30,
    label = &quot;Fast Attackers\n(Speed &gt; Special)&quot;,
    fontface = &quot;bold&quot;,
    size = 3.5,
    alpha = 0.7,
    color = &quot;black&quot;) +
  annotate(
    &quot;label&quot;,
    x = 30,
    y = 140,
    label = &quot;Special Attackers\n(Special &gt; Speed)&quot;,
    fontface = &quot;bold&quot;,
    size = 3.5,
    alpha = 0.7,
    color = &quot;black&quot;) +
  annotate(
    &quot;label&quot;,
    x = 140,
    y = 140,
    label = &quot;Elite\n(High in Both)&quot;,
    fontface = &quot;bold&quot;,
    size = 3.5,
    alpha = 0.7,
    color = &quot;black&quot;) +
  annotate(
    &quot;label&quot;,
    x = 30,
    y = 30,
    label = &quot;Balanced\n(Low in Both)&quot;,
    fontface = &quot;bold&quot;,
    size = 3.5,
    alpha = 0.7,
    color = &quot;black&quot;) +
  # Add a diagonal line
  geom_abline(
    intercept = 0,
    slope = 1,
    linetype = &quot;dashed&quot;,
    color = &quot;gray50&quot;) +
  # Set equal axis limits for better comparison
  coord_cartesian(
    xlim = c(0, 220),
    ylim = c(0, 220))

# Display the plot
print(density_pokemon)</code></pre>
<pre><code>## Warning: ggrepel: 31 unlabeled data points (too many overlaps). Consider
## increasing max.overlaps</code></pre>
<p><img src="Homework_10_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre class="r"><code># Save the plot as a manuscript quality pdf
ggsave(&quot;density_pokemon.pdf&quot;, density_pokemon, width = 12, height = 10, dpi = 300)</code></pre>
<pre><code>## Warning: ggrepel: 16 unlabeled data points (too many overlaps). Consider
## increasing max.overlaps</code></pre>
</div>
</div>
<div id="pie-chart" class="section level1">
<h1>4. Pie Chart</h1>
<div
id="i-was-curious-what-is-the-frequency-of-each-type-of-pokemon-and-a-good-way-to-visualize-this-was-with-a-pie-chart"
class="section level3">
<h3>I was curious what is the frequency of each type of pokemon and a
good way to visualize this was with a pie chart</h3>
<pre class="r"><code># First we need to create a frequency for each of the types so we can put it on a pie chart
type_counts &lt;- pokemon_clean %&gt;%
  count(type_1) %&gt;%
  arrange(desc(n)) %&gt;%
  # Calculate percentages
  mutate(percentage = n / sum(n) * 100,
    # Create labels with percentages
    label = paste0(type_1, &quot;\n(&quot;, round(percentage, 1), &quot;%)&quot;),
    # Add positions for pie chart labels
    position = cumsum(percentage) - 0.5 * percentage)

# Now we can make the pie chart
pie_pokemon &lt;- ggplot(type_counts, aes(x = &quot;&quot;, y = percentage, fill = type_1)) +
  # Create pie chart
  geom_bar(stat = &quot;identity&quot;, width = 1) +
  coord_polar(&quot;y&quot;, start = 0) +
  geom_text(
    aes(y = position, label = label),
    color = &quot;white&quot;,
    fontface = &quot;bold&quot;,
    size = 3.5) +
  scale_fill_viridis_d(option = &quot;plasma&quot;) +
  labs(
    title = &quot;Pokemon Frequency by Primary Pokemon Type&quot;,
    subtitle = paste0(&quot;Sample size &quot;, nrow(pokemon_clean), &quot; Pokemon&quot;),
    fill = &quot;Type&quot;) +
  theme_minimal() +
  theme(
    axis.text = element_blank(),
    axis.title = element_blank(),
    panel.grid = element_blank(),
    plot.title = element_text(face = &quot;bold&quot;, size = 16),
    legend.position = &quot;right&quot;)

# it looks like that the types are pretty evenly distributed for all of the 949 pokemon
print(pie_pokemon)</code></pre>
<p><img src="Homework_10_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre class="r"><code># Save the plot as a manuscript quality pdf
ggsave(&quot;pie_pokemon.pdf&quot;, pie_pokemon, width = 12, height = 10, dpi = 300)</code></pre>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
